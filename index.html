<!--<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.5/aframe/build/aframe-ar.js"></script>

  <body style="margin : 0px; overflow: scroll;">
    <a-scene
      id="scene"
      embedded
      arjs="debugUIEnabled: false; trackingMethod: best; sourceType: webcam; "
      scenehandler
    >
      <a-marker-camera
        markerhandler
        id="animated-marker"
        type="pattern"
        url="https://cdn.glitch.com/a95eccb5-26bb-4aaa-acab-767533e4be05%2Fpattern-Custom%20Marker%20Image.patt"
        emitevents="true"
        cursor="rayOrigin:mouse;"
      >
        <a-sphere
          id="clickableSphere"
          position="1 0 1"
          rotation="90 0 0"
          radius="0.25"
          color="#ff0000"
          material="opacity: 1;"
        ></a-sphere>

        <a-box
          id="clickableCube"
          position="-1 0 1"
          rotation="90 0 0"
          scale="0.5 0.5 0.5"
          color="#00ff00"
          material="opacity: 1;"
        ></a-box>

        <a-cylinder
          cylinderhandler
          id="clickableCylinder"
          position="0 0 1"
          radius="0.2"
          height="0.5"
          rotation="90 0 0"
          color="#0000ff"
          material="opacity: 1;"
        ></a-cylinder>
      </a-marker-camera>
    </a-scene>

    <script>
//       AFRAME.registerComponent("scenehandler", {
//         init: function() {
//           const animatedMarker = document.querySelector("#scene");
//           const cylinder = document.querySelector("#clickableCylinder");
//           const cube = document.querySelector("#clickableCube");
//           const sphere = document.querySelector("#clickableSphere");

//           animatedMarker.addEventListener("click", function(ev, target) {
//             const intersectedElement =
//               ev && ev.detail && ev.detail.intersectedEl;
//             if (cylinder && intersectedElement === cylinder) {
//               window.location =
//                 "https://aframe.io/docs/1.0.0/introduction/best-practices.html";
//               console.log("Cylinder");
//             } else if (cube && intersectedElement === cube) {
//               window.location = "https://hacktoberfest.digitalocean.com/";
//               console.log("Cube");
//             } else if (sphere && intersectedElement === sphere) {
//               window.location =
//                 "https://www.linkedin.com/in/ekansh-mittal-929297ba/";
//               console.log("Sphere");
//             }
//           });
//         }
//       });

      

      /*document
        .querySelector("#clickableSphere")
        .addEventListener("click", evt => {
          window.location =
            "https://www.linkedin.com/in/ekansh-mittal-929297ba/";
        });*/

      /*document
        .querySelector("#clickableCube")
        .addEventListener("click", evt => {
          window.location = "https://hacktoberfest.digitalocean.com/";
        });*/

      // document
      //   .querySelector("#clickableCylinder")
      //   .addEventListener("click", evt => {
      //     window.location = "tel: +91-9560425172";
      //   });
    </script>
  </body>
</html>-->

<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script
    src="https://raw.githack.com/AR-js-org/AR.js/3.3.1/aframe/build/aframe-ar.js"
  >
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js">
  </script>
  <body style="margin : 0px; overflow: hidden;">
    <a-scene
      scenehandler
      id="scene"
      cursor="fuse: false; rayOrigin: mouse;"
      raycaster="objects: .clickable;"
      embedded
      arjs="debugUIEnabled: false; trackingMethod: best; sourceType: webcam;"
    >
      <a-marker
        id="customMarker"
        type="pattern"
        url="https://cdn.glitch.com/a95eccb5-26bb-4aaa-acab-767533e4be05%2Fpattern-Custom%20Marker%20Image.patt"
        cursor="rayOrigin: mouse;"
      >
        <a-entity position="0 0 1" rotation="90 0 0">
          <a-sphere
            class="clickable"
            id="clickableSphere"
            radius="0.25"
            color="#ff0000"
            material="opacity: 1;"
          ></a-sphere>
        </a-entity>

        <a-entity position="0 0 0" rotation="90 0 0">
          <a-box
            class="clickable"
            id="clickableCube"
            scale="0.5 0.5 0.5"
            color="#00ff00"
            material="opacity: 1;"
          ></a-box>
        </a-entity>

        <a-entity position="0 0 -1" rotation="90 0 0">
          <a-cylinder
            class="clickable"
            id="clickableCylinder"
            cylinderhandler
            radius="0.2"
            height="0.5"
            color="#0000ff"
            material="opacity: 1;"
          ></a-cylinder>
        </a-entity>
      </a-marker>
      <a-entity camera mouse-cursor></a-entity>
      <a-cursor
        id="mycursor"
        fuse="true"
        color="yellow"
        fuse-timeout="0"
      ></a-cursor>
    </a-scene>

    <script>
      let allow_clicks = false;

      document.querySelector("#scene").addEventListener("markerFound", evt => {
        allow_clicks = true;
        console.log("hi");
      });

      document.querySelector("#scene").addEventListener("markerLost", evt => {
        allow_clicks = false;
        console.log("false");
      });

      // document.querySelector("#scene").addEventListener("click", evt => {
      //   var x = (event.clientX / window.innerWidth) * 2 - 1;
      //   var y = -(event.clientY / window.innerHeight) * 2 + 1;
      //   var coords = "X coords: " + x + ", Y coords: " + y;
      //   console.log(coords);
      //   document
      //     .querySelector("#mycursor")
      //     .setAttribute("position", { x: x, y: y, z: 0 });
      //   console.log(
      //     document.querySelector("#mycursor").getAttribute("position")
      //   );
      // });

      AFRAME.registerComponent("scenehandler", {
        init: function() {
          const animatedMarker = document.querySelector("#scene");
          const cylinder = document.querySelector("#clickableCylinder");
          const cube = document.querySelector("#clickableCube");
          const sphere = document.querySelector("#clickableSphere");

          animatedMarker.addEventListener("click", function(ev, target) {
            const intersectedElement =
              ev && ev.detail && ev.detail.intersectedEl;
            if (cylinder && intersectedElement === cylinder) {
              if (allow_clicks) {
                window.location =
                  "https://aframe.io/docs/1.0.0/introduction/best-practices.html";
                console.log("Cylinder");
              }
            } else if (cube && intersectedElement === cube) {
              if (allow_clicks) {
                window.location = "https://hacktoberfest.digitalocean.com/";
                console.log("Cube");
              }
            } else if (sphere && intersectedElement === sphere) {
              if (allow_clicks) {
                window.location =
                  "https://www.linkedin.com/in/ekansh-mittal-929297ba/";
                console.log("Sphere");
              }
            }
          });
        }
      });

      //         AFRAME.registerComponent("scenehandler", {
      //           init: function() {
      //             // Set up the tick throttling. Will check if marker is active every 500ms
      //         this.tick = AFRAME.utils.throttleTick(this.tick, 500, this);
      //       },

      //       tick: function(t, dt) {

      //         if (document.querySelector("#customMarker").object3D.visible == true && playing == false) {
      //           // MARKER IS PRESENT
      //           //alert("MARKER IS PRESENT")

      //       		scene = document.querySelector('#scene');
      //       	  AR-Object01 = document.querySelector('#clikableylinder');
      //         	AR-Object02 = document.querySelector('#clickableCube');
      //           AR-VideoScreen =  document.querySelector('#clickableSphere');

      //           AR-Object01.addEventListener('click', function () { alert("object01 clickable in AR") });
      //           AR-Object02.addEventListener('click', function () { alert("object02 clickable in AR") });
      //           videoScreen.addEventListener('click', function () { alert("Video Play Toggle") });

      //         }

      //         }else {
      //           // MARKER IS HIDDEN, do nothing (up to you)
      //         }

      //           }
      //         });

      //       document
      //         .querySelector("#clickableCylinder")
      //         .addEventListener("click", evt => {
      //           if (allow_clicks) {
      //             console.log("Cylinder");
      //           }
      //         });

      //       document
      //         .querySelector("#clickableCube")
      //         .addEventListener("click", evt => {
      //           if (allow_clicks) {
      //             console.log("Cube");
      //           }
      //         });

      //       document
      //         .querySelector("#clickableSphere")
      //         .addEventListener("click", evt => {
      //           if (allow_clicks) {
      //             console.log("Sphere");
      //           }
      //         });
    </script>
  </body>
</html>

<!--<script>

  var scene
  var AR-Object01
  var AR-Object02
  var AR-VideoScreen

  AFRAME.registerComponent('markerhandler', {

    init: function() {

      // Set up the tick throttling. Will check if marker is active every 500ms
      this.tick = AFRAME.utils.throttleTick(this.tick, 500, this);
    },

    tick: function(t, dt) {

      if (document.querySelector("#hiroMarker").object3D.visible == true && playing == false) {
        // MARKER IS PRESENT
        //alert("MARKER IS PRESENT")

    		scene = document.querySelector('#a-scene');
    	  AR-Object01 = document.querySelector('#Object01');
      	AR-Object02 = document.querySelector('#Object02');
        AR-VideoScreen =  document.querySelector('#videoScreen');

        AR-Object01.addEventListener('click', function () { console.log("object01 clickable in AR") });
        AR-Object02.addEventListener('click', function () { console.log("object02 clickable in AR") });
        videoScreen.addEventListener('click', function () { playPauseVideo(); console.log("Video Play Toggle") });
        playing = true;

      }

      }else {
        // MARKER IS HIDDEN, do nothing (up to you)
      }

  });

  function playPauseVideo(){

  if (video.paused)
      video.play();
    else
      video.pause();
  }
</script>

<a-scene
  id="a-scene"
  cursor="rayOrigin: mouse"
  embedded
  arjs="sourceType:webcam; maxDetectionRate:30; debugUiEnabled:false;"
>
  <a-assets>
    <video
      id="video"
      loop="true"
      src="yourvideo.mp4"
      webkit-playsinline
    ></video>
  </a-assets>

  <a-marker preset="hiro" markerhandler emitevents="true" id="hiroMarker">
    <a-entity id="AR-Object01" posititon="1 0 1"></a-entity>
    <a-entity id="AR-Object02" position="0 0 1"></a-entity>

    <a-video
      id="videoScreen"
      src="#video"
      width="16"
      height="9"
      autoplay="true"
    ></a-video>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>-->
